<!-- udacimak v1.2.1 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Practice Block Data</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Blockchain Data Overview</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Lesson Overview.html">01. Lesson Overview</a>
    </li>
    <li class="">
      <a href="02. Interview Blockchain as a Dataset.html">02. Interview: Blockchain as a Dataset</a>
    </li>
    <li class="">
      <a href="03. Blockchain vs Traditional Databases.html">03. Blockchain vs Traditional Databases</a>
    </li>
    <li class="">
      <a href="04. Do You Need a Blockchain.html">04. Do You Need a Blockchain?</a>
    </li>
    <li class="">
      <a href="05. Blockchain Types.html">05. Blockchain Types</a>
    </li>
    <li class="">
      <a href="06. Interview Blockchain Types.html">06. Interview: Blockchain Types</a>
    </li>
    <li class="">
      <a href="07. P2P Network vs Client-Server Model.html">07. P2P Network vs Client-Server Model</a>
    </li>
    <li class="">
      <a href="08. Explore Blockchain Data.html">08. Explore Blockchain Data</a>
    </li>
    <li class="">
      <a href="09. Practice Block Data.html">09. Practice Block Data</a>
    </li>
    <li class="">
      <a href="10. Explore Bitcoin&#x27;s Codebase.html">10. Explore Bitcoin&#x27;s Codebase</a>
    </li>
    <li class="">
      <a href="11. BIPs and Forks.html">11. BIPs and Forks</a>
    </li>
    <li class="">
      <a href="12. Quiz Softfork vs Hardfork.html">12. Quiz: Softfork vs Hardfork</a>
    </li>
    <li class="">
      <a href="13. Interview How to Get Involved.html">13. Interview: How to Get Involved</a>
    </li>
    <li class="">
      <a href="14. Lesson Summary.html">14. Lesson Summary</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">09. Practice Block Data</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="lets-do-some-coding-practice">Let's do some Coding Practice</h1>
<p>In the previous concept, you explored the Bitcoin block data with the block explorer. Now, it is time to practice Promises with Node.js and explore the block data in your own terminal.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="steps-to-follow">Steps to follow</h2>
<blockquote>
  <table>
  <thead>
  <tr>
  <th id="**step_1**"><strong>Step 1</strong></th>
  <th id="explore_libraries_to_explore_the_block_data_in_javascript">Explore libraries to explore the block data in Javascript</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td><strong>Step 2</strong></td>
  <td>Discuss how can we solve the problem</td>
  </tr>
  <tr>
  <td><strong>Step 3</strong></td>
  <td>Walk you through the boilerplate code</td>
  </tr>
  <tr>
  <td><strong>Step 4</strong></td>
  <td>Review  some tips</td>
  </tr>
  </tbody>
  </table>
</blockquote>
<p>Each step you’ll take to complete this exercise is called out in the comments throughout the code. You can find more details and guidance about each of these steps in the text provided below the code.</p>
<p>Let’s get started!</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step1-explore-libraries-to-explore-the-block-data-in-javascript">Step1. Explore libraries to explore the block data in Javascript</h2>
<p>There are a few libraries you can use to explore the block data in Bitcoin. For this exercise, we are going to use the library provided by BlockExplorer <a href="https://www.npmjs.com/package/blockexplorer" target="_blank">blockexplorer.js</a>.</p>
<p>This library allows to do some important operations through the network like:</p>
<ul>
<li><code>blockexplorer.block(hash)</code> - Get block info by hash</li>
<li><code>blockexplorer.rawBlock(hash)</code> -  Get raw block info by hash</li>
<li><code>blockexplorer.blockIndex(height)</code> - Get block hash by height </li>
</ul>
<p>Take a look at the <a href="https://www.npmjs.com/package/blockexplorer" target="_blank">API description</a> in the Node module so that you know how to use all those functions.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step-2-discuss-how-can-we-solve-the-problem">Step 2. Discuss how can we solve the problem</h2>
<p>The task in this workspace is simple to accomplish: we need to implement the function <code>getBlock(index)</code> .</p>
<p>This function allows us to show the block data from a network request in the console. To implement it, follow the following steps:</p>
<ol>
<li>Use the <code>be.blockIndex(index)</code> to get the hash. This is necessary because we don't have the block hashes.</li>
<li>Use the <code>be.block(hash)</code> to request the entire block data.</li>
<li>Use <code>console.log(block)</code> to show the data in the console.</li>
</ol>
<p>All the methods in the <strong>blockexplorer.js</strong> return <strong>Promises</strong>. Remember that this concept is necessary in modern applications because it allows you to execute your code asynchronously. If you need a refresher on Promises, check out this <a href="https://www.udacity.com/course/javascript-promises--ud898" target="_blank">Udacity free course on Promises</a>. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="step-3-walk-you-through-the-boilerplate-code">Step 3. Walk you through the boilerplate code</h1>
<p>In all <strong>Node.js</strong> applications, if you need to use a Third Party Library (a module that was developed by someone else), you'll need to install the module:<br />
<code>npm i blockexplorer --save</code>.</p>
<p>The first part of the code template you have: </p>
<p><code>const be = require('blockexplorer');</code></p>
<p>This allows you to use the <strong>blockexplorer</strong> module in your application.</p>
<p>Then, you have the following function:</p>
<pre><code>function getBlock(index) {
      //Add your code here
      // Start by requesting the hash
      // Then request the block and use console.log

}</code></pre>
<p>The last part of the code is the following function:</p>
<pre><code>(function theLoop (i) {
    setTimeout(function () {
        getBlock(i);
        i++;
        if (i &lt; 3) theLoop(i);
    }, 3600);
  })(0);</code></pre>
<p>This function allows you to create a loop that executes each step every 3.6s. Inside the loop, we are going to call the  <code>getBlock</code> function.</p>
<p>Because of the loop function, we are going to see 3 different blocks of data in the console.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step-4-review-these-tips">Step 4. Review these tips.</h2>
<ol>
<li>Remember all the <strong>blockexplorer.js</strong> functions return a Promise.</li>
<li>Check the results that you get from all the methods. For example, when you use <code>blockIndex(index)</code> function, the result is: <code>{blockHash:ah93jioj9ij3dj93d9j39ij9}</code>. That means it is returning an object. You will need to parse the result in order to use the hash in the next function:<code>let hashAux = JSON.parse(hash).blockHash;</code>.</li>
<li>Don't worry about the following warning:</li>
</ol>
<blockquote>
  <p>node:323) Warning: a promise was created in a handler at /home/workspace/Project/app.js:12:12 but was not returned from it, see <a href="http://goo.gl/rRqMUw" target="_blank">http://goo.gl/rRqMUw</a><br />
      at new Promise (/home/workspace/Project/node_modules/bluebird/js/release/promise.js:79:10)</p>
</blockquote>
<p>This is something related to the Workspace tool and is not related to the code. If you try the exercise in your own environment, you won't get this warning.</p>
<p>To run the application:</p>
<ul>
<li>Open the terminal.</li>
<li>Move to the project folder <code>cd Project</code>.</li>
<li>Write in the console <code>node app.js</code>.</li>
</ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="block-explorer-workspace">Block Explorer Workspace</h2>
<p><strong>Note</strong>: If you want to download the boilerplate code, you can clone it from this <a href="https://github.com/udacity/nd1309_block_explorer" target="_blank">Github Repository</a>.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div class="jumbotron">
  <h3>Workspace</h3>

  <p class="lead">This section contains either a workspace (it can be a <a href="http://jupyter.org/" target="_blank">Jupyter
      Notebook</a> workspace or an online code editor work space, etc.) and it cannot be automatically downloaded to be
    generated here. Please access the classroom with your account and manually download the workspace to your local
    machine. Note that for some courses, Udacity upload the workspace files onto <a href="https://github.com/udacity"
      target="_blank">https://github.com/udacity</a>, so you may be able to download them there.</p>

  <h4>Workspace Information:</h4>

  <ul>
    <li><strong>Default file path:</strong> </li>
    <li><strong>Workspace type:</strong> generic</li>
    <li>
      <strong>Opened files (when workspace is loaded):</strong>
      n/a
    </li>

  </ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="quizzes">Quizzes</h2>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Select the correct answers</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Use the block data for the block with <code>height = 2</code>, choose the correct data:</p></legend>
    </fieldset>

    <div>
      <input type="checkbox" value="a1538407665247" name="729353" id="a1538407665247">
      <label for="a1538407665247"><p>merkleroot: 9b0fc92260312ce44e74ef369f5c66bbb85848f2eddd5a7a1cde251e54ccfdd5</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1538407839186" name="729353" id="a1538407839186">
      <label for="a1538407839186"><p>merkleroot: 0e3e2357e806b6cdb1f70b54c3a3a17b6714ee1f0e68bebb44a74b1efd512098</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1538407878711" name="729353" id="a1538407878711">
      <label for="a1538407878711"><p>previousblockhash: 00000000839a8e6886ab5951d76f411475428afc90947ee320161bbf18eb6048</p></label>
    </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    <ul>
      <li>merkleroot: 9b0fc92260312ce44e74ef369f5c66bbb85848f2eddd5a7a1cde251e54ccfdd5</li>
      <li>previousblockhash: 00000000839a8e6886ab5951d76f411475428afc90947ee320161bbf18eb6048</li>
  </ul>
  </details>
</div>

</div>
<div class="divider"></div>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://github.com/udacimak/udacimak#readme" target="_blank">udacimak v1.2.1</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });
    });
  </script>
</body>

</html>
